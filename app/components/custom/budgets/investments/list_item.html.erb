<%= render(Shared::ResourceItem.new(component_attributes)) do |c| %>
  <% c.first_footer_item do  %>
    <%= render partial: 'budgets/investments/investment_status_callout', locals: { investment: budget_investment } %>

    <% if budget_investment.feasible? %>
      <% if budget_investment.should_show_votes? %>
        <div id="<%= dom_id(budget_investment) %>_votes" class="budget-item--vote-button">
          <%= render Budgets::Investments::VotesComponent.new(budget_investment) %>
        </div>
      <% elsif budget_investment.should_show_ballots? && !budget_investment.should_show_votes? %>
        <div id="<%= dom_id(budget_investment) %>_ballot" class="">
          <%= render Budgets::Investments::BallotComponent.new(
            investment: budget_investment,
            investment_ids: budget_investment.budget.investments.ids,
            ballot: @ballot,
            top_level_active_projekts: @top_level_active_projekts,
            top_level_archived_projekts: @top_level_archived_projekts
          ) %>
        </div>
      <% end %>
    <% end %>
  <% end %>

  <% if budget_investment.feasible? %>
    <% if budget_investment.should_show_vote_count? %>
      <% c.second_footer_item do  %>
        <div class="supports js-participation">
        </div>
      <% end %>
    <% elsif budget_investment.should_show_ballots? && !budget_investment.should_show_votes? %>
      <% c.second_footer_item do  %>
        <p class="investment-project-amount">
        <%= budget_investment.formatted_price %>
        </p>
      <% end %>
    <% elsif budget_investment.should_show_ballots? && !budget_investment.should_show_votes? %>
      <% c.second_footer_item do  %>
        <div id="<%= dom_id(budget_investment) %>_ballot" class="">
          <%= render Budgets::Investments::BallotComponent.new(
            investment: budget_investment,
            investment_ids: budget_investment.budget.investments.ids,
            ballot: @ballot,
            top_level_active_projekts: @top_level_active_projekts,
            top_level_archived_projekts: @top_level_archived_projekts
          ) %>
        </div>
      <% end %>

    <% elsif budget_investment.should_show_price? && !budget_investment.should_show_votes? %>
      <% c.second_footer_item do  %>
        <div id="<%= dom_id(budget_investment) %>_price" class="supports">
          <div class="supports">
            <span class="total-supports no-button price">
              <%= budget_investment.formatted_price %>
            </span>
          </div>
        </div>
      <% end %>
    <% end %>
  <% end %>
<% end %>
