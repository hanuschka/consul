<div class="comments">
  <div id="comments" class="new-comments-component">
    <h3 class="new-comments-component--title">
      Kommentare <span class="js-comments-count">(<%= record.comments_count %>)</span>
    </h3>
    <%= content %>

    <%= render Shared::CommentsFormComponent.new(record) %>

    <% unless record.is_a?(ProjektQuestion) ||
        (record.is_a?(Projekt) && record.overview_page?) ||
        comment_tree.root_comments.where(hidden_at: nil).count < 2 %>
      <div class="d-flex">
        <div class="items-list-line-divider"></div>
        <%= render(
          Shared::FilterDropdownComponent.new(
            title: "Sortieren nach:",
            anchor: 'comments',
            options: helpers.valid_orders,
            selected_option: helpers.current_order,
            i18n_namespace: "comments.orders"
          )
        ) %>
      </div>
    <% end %>
    <%= render "comments/comment_list", comments: comment_tree.root_comments %>
    <%= pagination_links %>
  </div>
</div>
