<h2><%= t("admin.tags.index.add_tag") %></h2>
<p><%= t("admin.tags.index.help") %></p>

<%= form_for(@tag, url: admin_tags_path, as: :tag) do |f| %>
  <div class="small-12 medium-6">
    <%= f.text_field :name %>
    <%= f.radio_button :kind, "category", label: "Category", selected: "selected" %>
    <%= f.radio_button :kind, "project", label: "Project" %>
    <%= f.radio_button :kind, "subcategory", label: "Subcategory" %>

  </div>


  <%= f.submit(t("admin.tags.create"), class: "button success") %>
<% end %>

<hr>
<h3 class="margin"><%= t("admin.tags.index.title") %>: <%= page_entries_info @tags %></h3>

<table>
  <thead>
    <th scope="col" class="small-6"><%= t("admin.tags.index.topic") %></th>
    <th scope="col" class="small-3"><%= t("admin.tags.index.scope") %></th>
    <th scope="col"><%= t("admin.actions.actions") %></th>
  </thead>
  <tbody>
  <% @tags.each do |tag| %>
    <tr>
      <td>
        <%= form_for(tag,
            url: admin_tag_path(tag),
            as: :tag,
            html: { id: "edit_tag_#{tag.id}" }) do |f| %>

            <div class="small-9 column">
              <%=f.text_field :name, {label: ""}%>
                <div class='row'>
                  <div class='small-4 column'>
                    <b><%=t("admin.tags.logic.category")%></b>
                    <div>
                      <%=check_box_tag "tag[category_code][]", 1, (tag.custom_logic_category_code & 1) > 0, id: "category_code_#{tag.id}_1" %>
                      <%=label_tag "category_code_#{tag.id}_1" do %>
                        <span class="checkbox"><%=t("admin.tags.logic.predefined")%></span>
                      <%end%>
                    </div>
                    <div>
                      <%=check_box_tag "tag[category_code][]", 2, (tag.custom_logic_category_code & 2) > 0, id: "category_code_#{tag.id}_2" %>
                      <%=label_tag "category_code_#{tag.id}_2" do %>
                        <span class="checkbox"><%=t("admin.tags.logic.cloud")%></span>
                      <%end%>
                    </div>
                  </div>
                  <div class='small-4 column'>
                    <b><%=t("admin.tags.logic.subcategory")%></b>
                    <div>
                      <%=check_box_tag "tag[subcategory_code][]", 1, (tag.custom_logic_subcategory_code & 1) > 0, id: "subcategory_code_#{tag.id}_1" %>
                      <%=label_tag "subcategory_code_#{tag.id}_1" do %>
                        <span class="checkbox"><%=t("admin.tags.logic.predefined")%></span>
                      <%end%>
                    </div>
                    <div>
                      <%=check_box_tag "tag[subcategory_code][]", 2, (tag.custom_logic_subcategory_code & 2) > 0, id: "subcategory_code_#{tag.id}_2" %>
                      <%=label_tag "subcategory_code_#{tag.id}_2" do %>
                        <span class="checkbox"><%=t("admin.tags.logic.cloud")%></span>
                      <%end%>
                    </div>
                  </div>
                  <div class='small-4 column'>
                    <div>
                      <%=check_box_tag "tag[category_code][]", 4, (tag.custom_logic_category_code & 4) > 0, id: "category_code_#{tag.id}_4" %>
                      <%=label_tag "category_code_#{tag.id}_4" do %>
                        <span class="checkbox"><%=t("admin.tags.logic.custom")%></span>
                      <%end%>
                    </div>
                  </div>
                </div>
            </div>

            <div class="small-3 column">
              <label>&nbsp;</label>
              <%= f.submit(t("admin.actions.update"), class: "button success") %>
            </div>

            <!--strong><%= tag.name %></strong-->
        <% end %>
      </td>
      <td>
        <%=tag.kind%>
      </td>
      <td id="tag_<%= tag.id %>">
        <%= link_to t("admin.tags.destroy"), admin_tag_path(tag), method: :delete, class: "button hollow alert" %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @tags %>
