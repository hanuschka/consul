<ul class="main-menu">
  <div class="content-items">
    <%= render partial: 'shared/subnavigation_home', locals: { placement: placement } %>

    <% unless launch_page %>
      <% if extended_feature?("general.elasticsearch") %>
        <div class='search-box show-for-small-only'>
          <%= render partial: "shared/elasticsearch_form", locals: { placement: placement } %>
        </div>
      <% end %>
      <%= render partial: 'shared/subnavigation_projekts_overview', locals: { placement: placement } if Setting['extended_feature.projekts_overview_page_navigation.show_in_navigation'].present? %>
      <%= raw content_block("subnavigation_left_desktop", I18n.locale) if placement == 'desktop' %>
      <%= raw content_block("subnavigation_left_mobile", I18n.locale) if placement == 'mobile' %>
      <%= render partial: 'shared/subnavigation_projekts', locals: { placement: placement } %>
      <%= render partial: 'shared/subnavigation_deficiency_reports', locals: { placement: placement } if deficiency_reports_feature?('show_in_main_menu') %>
      <%= raw content_block("subnavigation_right_desktop", I18n.locale) if placement == 'desktop' %>
      <%= raw content_block("subnavigation_right_mobile", I18n.locale) if placement == 'mobile' %>
      <%= render partial: 'shared/subnavigation_projekt_events', locals: { placement: placement } if Setting['extended_feature.general.enable_projekt_events_page'].present? %>
    <% end %>

  </div>

  <% if extended_feature?("general.enable_google_translate") && placement == 'desktop' %>
    <div id="google_translate_element"></div>
  <% end %>

  <% unless launch_page %>
    <div class="account-admin-items">
      <%= render partial: 'shared/subnavigation_locale', locals: { placement: placement } if extended_feature?("general.language_switcher_in_menu") && !extended_feature?("general.enable_google_translate") && placement == 'desktop' %>
      <% if extended_feature?("general.elasticsearch") %>
        <%= render partial: 'shared/subnavigation_search', locals: { placement: placement } %>
      <% end %>
      <%= render partial: "layouts/notification_item", locals: { placement: placement } %>
      <%= render partial: 'shared/subnavigation_konto', locals: { placement: placement } %>
      <%= render partial: 'shared/subnavigation_admin', locals: { placement: placement } %>
      <%= render partial: 'shared/subnavigation_locale', locals: { placement: placement } if extended_feature?("general.language_switcher_in_menu") && !extended_feature?("general.enable_google_translate") && placement == 'mobile' %>
    </div>
  <% end %>
</ul>

<% if extended_feature?("general.elasticsearch") %>
  <div class='hide-for-small-only'>
    <div class='elasticSearchModal'>
      <div class='modal-search-box'>
        <%= render "shared/elasticsearch_form" %>
      </div>
    </div>
  </div>
<% end %>
