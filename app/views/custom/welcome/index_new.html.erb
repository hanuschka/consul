<% content_for :body_class, "home-page" %>

<% content_for :canonical do %>
  <%= render "shared/canonical", href: root_url %>
<% end %>

<%= render Shared::BannerComponent.new("homepage") %>

<% provide :social_media_meta_tags do %>
  <%= render "shared/social_media_meta_tags",
              social_url: root_url %>
<% end %>

<main class="welcome-page">
  <%= render "header_new", header: @header %>

  <div class="d-flex layout-main-column">
    <div class="layout-left-column">
      <div class="welcome-page--first-content-block">
        <%= render_custom_block 'home_page_1' %>
      </div>

      <% if @active_projekts.any? %>
        <%= render Projekts::List.new(
          projekts: @active_projekts,
          title_link: projekts_path,
          map_coordinates: @active_projekts_map_coordinates,
          current_filter: @current_projekt_filter,
          filters: @current_active_projekt_filters,
          remote_url: list_projekts_path
        ) %>
      <% end %>

      <% if @cards.any? %>
        <%= render partial: "cards", locals: { cards: @cards, section_title: t("welcome.cards.title") } %>
      <% end %>

      <%= render_custom_block 'home_page_2' %>

      <% if @latest_polls.any? %>
        <%= render Shared::ResourcesList.new(resources: @polls, resource_type: Poll, title: t('custom.welcome.current_polls') , wide: false) %>
      <% end %>

      <%= render_custom_block 'home_page_4' %>

      <% if @latest_items.any? %>
        <%= render Shared::ResourcesList.new(resources: @latest_items, title: t('custom.welcome.user_entries'), wide: false) %>
      <% end %>

      <%= render_custom_block 'home_page_5' %>

      <% if @expired_projekts.any? %>
        <%= render Projekts::List.new(projekts: @expired_projekts, title: t("custom.welcome.expired_projekt_cards.title")) %>
      <% end %>
      <%= render_custom_block 'home_page_6' %>
    </div>
    <%= render 'sidebar'  %>
  </div>
</main>
